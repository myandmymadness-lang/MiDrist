### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
### search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
### search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
### search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}
### search_filters = {FOCUS_FILTER_HISTORICAL}

# CONSTANT FOR INNER CIRCLE TIMES (This is Focus cost so x7 to get the days) - THE CONSTANTS USED IN THE EVENT FILE need to be these values x7
@inner_circle_time_tier_1 = 20
@inner_circle_time_tier_2 = 20
@inner_circle_time_tier_3 = 40

focus_tree = {
	id = german_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = GER
		}
	}

	initial_show_position = {
		x = 76
		y = 0
	}

	
	
	#Focus Path shortcuts	
	shortcut = {
		name = GER_oppose_hitler_shortcut
		target = GER_oppose_hitler_ww 
		scroll_wheel_factor = 0.485
		trigger = {
			has_dlc = "Gotterdammerung"
		}
	}

	shortcut = {
		name = GER_oppose_hitler_shortcut
		target = GER_oppose_hitler
		scroll_wheel_factor = 0.55
		trigger = {
			NOT = { has_dlc = "Gotterdammerung" }
		}
	}

	shortcut = {
		name = GER_minors_help
		target = GER_help_minors
		scroll_wheel_factor = 0.9 #Optional parameter, if left unset will use existing zoomlevel. Warning: there's no good way for this to respect client resolution.
		trigger = {
			always = yes
			# If FALSE, this will not display. If true, it will not supercede allow conditions of target focus.
		}
	}

	shortcut = {
		name = GER_historical_path_shortcut
		target = GER_anschluss
		scroll_wheel_factor = 0.469 #Optional parameter, if left unset will use existing zoomlevel. Warning: there's no good way for this to respect client resolution.
		trigger = {
			always = yes
			# If FALSE, this will not display. If true, it will not supercede allow conditions of target focus.
		}
	}

	shortcut = {
		name = GER_economic_path_shortcut
		target = GER_the_four_year_plan
		scroll_wheel_factor = 0.75
	}

	shortcut = {
		name = GER_naval_doctrine_shortcut
		target = GER_strengthen_the_kriegsmarine
		scroll_wheel_factor = 1.0
	}
	
	shortcut = {
		name = GER_air_doctrine_shortcut
		target = GER_expanding_the_luftwaffe
		scroll_wheel_factor = 1.0
	}

	shortcut = {
		name = GER_military_doctrine_shortcut
		target = GER_develop_modern_maneuver_warfare
		scroll_wheel_factor = 1.0
	}
    shared_focus = Axi_africa_company
	continuous_focus_position = { x = 500 y = 1300 }

	inlay_window = {
		id = ger_inner_circle_inlay_window
		position = { x = 4500 y = 1150 }
	}
	
	default = no

	alternate_icon_set = FOCUS_ICON_SET_HISTORICAL_KEY_FOCUS
	#alternate_icon_set = FOCUS_ALTERNATE_ICONS
	# ==> Loc key for toggle button : FOCUS_ALTERNATE_ICONS
	# ==> GFX for icon on toggle button : GFX_FOCUS_ALTERNATE_ICONS

	
 ######   #######  ##     ## ##     ##  #######  ##    ##    ########  ########     ###    ##    ##  ######  ##     ## ########  ######  
##    ## ##     ## ###   ### ###   ### ##     ## ###   ##    ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## ##       ##    ## 
##       ##     ## #### #### #### #### ##     ## ####  ##    ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## ##       ##       
##       ##     ## ## ### ## ## ### ## ##     ## ## ## ##    ########  ########  ##     ## ## ## ## ##       ######### ######    ######  
##       ##     ## ##     ## ##     ## ##     ## ##  ####    ##     ## ##   ##   ######### ##  #### ##       ##     ## ##             ## 
##    ## ##     ## ##     ## ##     ## ##     ## ##   ###    ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## ##       ##    ## 
 ######   #######  ##     ## ##     ##  #######  ##    ##    ########  ##     ## ##     ## ##    ##  ######  ##     ## ########  ######  



##########################################



	focus = {
		id = GER_construct_the_reichsautobahn
		icon = GFX_focus_generic_road_investment
		prerequisite = {  focus = GER_the_four_year_plan }

		x = -3
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			custom_effect_tooltip = GER_autobahn_tt
			hidden_effect = {
				64 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				59 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				60 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				54 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
			}		
		}
	}
	
	focus = {
		id = GER_build_the_rur_dam
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = GER_construct_the_reichsautobahn }

		x = -1
		y = 1
		relative_position_id = GER_construct_the_reichsautobahn
		cost = 5
		available = {
			51 = { 
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no 
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					51 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				51 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					42 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				42 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			51 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 3547
					}
				}
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}
		}
	}

	focus = {
		id = GER_research_cool
		icon = GFX_focus_ARG_fascist_researchers
		prerequisite = { focus = GER_build_the_rur_dam }

		x = -1
		y = 1
		relative_position_id = GER_build_the_rur_dam
		cost = 10
		

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
    			bonus = 1
    			uses = 1
    			technology = mechanical_computing
				technology = computing_machine
			}
		}
	}

	focus = {
		id = GER_unify_production_lines
		icon = GFX_focus_AFG_a_modern_economy
		prerequisite = { focus = GER_build_the_rur_dam }
		prerequisite = { focus = GER_kdf_wagen_factories }

		x = 1
		y = 1
		relative_position_id = GER_build_the_rur_dam
		cost = 10
		

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			64 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2	
					instant_build = yes
				}
			}

			65 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2	
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_production_speed_industrial_complex_factor = 0.05
				tooltip = production_speed_industrial_complex_factor_tt
			}
		}
	}

	focus = {
		id = GER_work_with_north
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = GER_unify_production_lines }
	

		x = -1
		y = 1
		relative_position_id = GER_unify_production_lines
		cost = 5
		

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			56 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2	
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			58 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2	
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = aluminium
					amount = 10
				}
			}
		}
	}

	focus = {
		id = GER_work_with_west
		icon = GFX_focus_CHL_enlarge_the_textile_industries
		prerequisite = { focus = GER_unify_production_lines }
		

		x = 2
		y = 0
		relative_position_id = GER_work_with_north
		cost = 5
		

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			66 = {
				add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2	
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 20
					}
			}

			63 = {
				add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_production_speed_industrial_complex_factor = 0.05
				tooltip = production_speed_industrial_complex_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_kdf_wagen_factories
		icon = GFX_GER_kdf_wagen_factories
		prerequisite = { focus = GER_construct_the_reichsautobahn }

		x = 1
		y = 1
		relative_position_id = GER_construct_the_reichsautobahn
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			
			54 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			50 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	
	
	focus = {
		id = GER_the_four_year_plan

		icon = GFX_focus_GER_the_four_year_plan
		
		x = 48
		y = 0
		
		cost = 5
		available = {
			has_completed_focus = GER_remilitarize_the_rhineland
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_the_four_year_plan
				bonus = 1.50
				uses = 3
				name = industry
				technology = concentrated_industry2
				technology = concentrated_industry3
				technology = concentrated_industry4
		    }
		}
	}
	
	focus = {
		id = GER_autarky_efforts
		icon = GFX_focus_GER_autarky_ambitions
		prerequisite = { focus = GER_the_four_year_plan  }

		x = 1
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_gain_autarkic_economy_lock_free_trade_tt
			add_ideas = autarkic_economy

			custom_effect_tooltip = generic_skip_one_line_tt
		
		}
	}
	
	focus = {
		id = GER_establish_the_reichswerke
		icon = GFX_GER_currency_reforms
		prerequisite = { focus = GER_autarky_efforts }

		x = 2
		y = 0
		relative_position_id = GER_kdf_wagen_factories
		cost = 5
		

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				prioritize = { 59 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2	
					instant_build = yes
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_establish_the_reichswerke
				bonus = 1
				uses = 1
				category = excavation_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_reichswerke_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wehrwirtschaft = yes
			add_to_variable = { 
				GER_wehrwirtschaft_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}

		}
	}
	
	focus = {
		id = GER_seize_foreign_industries
		icon = GFX_GER_rebuild_the_nation_ww
		prerequisite = { focus = GER_establish_the_reichswerke }
		prerequisite = { focus = GER_kdf_wagen_factories }

		x = 47
		y = 3
		
		cost = 5
		

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2	
					instant_build = yes
				}
				
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 65 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_seize_foreign_industries
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
			

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_wehrwirtschaft_modifier_tt
			add_to_variable = { 
				GER_wehrwirtschaft_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}
			custom_effect_tooltip = generic_skip_one_line_tt

		}
	}
	
	focus = {
		id = GER_coal_liquefaction
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = GER_autarky_efforts }

		x = 2
		y = 0
		relative_position_id = GER_establish_the_reichswerke
		cost = 5
		

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			
			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_tech_bonus = {
				name = GER_coal_liquefaction
				bonus = 1
				uses = 1
				category = synth_resources
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_resource = {
  				type = oil
    			amount = 10
   				state = 64
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt
	
			if = {
				limit = {
					has_idea = ig_faben
				}
				swap_ideas = {
					remove_idea = ig_faben
					add_idea = GER_ig_faben_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = ig_faben
						add_idea = GER_ig_faben_improved
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_subsidize_hoesch_benzin
		icon = GFX_focus_GER_subsidize_hoesch_benzin
		prerequisite = { focus = GER_coal_liquefaction }

		x = 49
		y = 3
	
		cost = 5
		

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 57 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_wehrwirtschaft_modifier_tt
			add_to_variable = { 
				GER_wehrwirtschaft_production_oil_factor = 0.1
				tooltip = production_oil_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_subsidize_hoesch_benzin
				bonus = 1
				uses = 1
				category = synth_resources
			}

		}
	}
	
	focus = {
		id = GER_establish_buna_werke
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = GER_coal_liquefaction }

		x = 51
		y = 3
		
		cost = 5
		

		continue_if_invalid = yes

		bypass = {
			OR = {
				has_resources_in_country = {
					resource = rubber
					amount > 99
					extracted = yes
				}
				any_subject_country = {
					has_resources_in_country = {
						resource = rubber
						amount > 99
						extracted = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
        	random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 65 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 2
        	}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_establish_buna_werke
				bonus = 1
				uses = 1
				category = synth_resources
			}
		}
	}
	
	focus = {
		id = GER_autarky_achieved
		icon = GFX_focus_GER_autarky_achieved
		prerequisite = { focus = GER_seize_foreign_industries }
		prerequisite = { focus = GER_subsidize_hoesch_benzin }
		prerequisite = { focus = GER_establish_buna_werke }

		x = 49
		y = 4
		
		cost = 5     

		search_filters = { FOCUS_FILTER_INDUSTRY }

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_win_europe_enemy
				OR = {	
					FRA = {
						has_capitulated = yes
					}
					BEL = {
						has_capitulated = yes
					}
					HOL = {
						has_capitulated = yes
					}
					POL = {
						has_capitulated = yes
					}
				}
			}
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = autarkic_economy
				add_idea = autarkic_economy_improved
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_add_or_modify_wehrwirtschaft = yes
			add_to_variable = { 
				GER_wehrwirtschaft_production_speed_synthetic_refinery_factor = 0.1
				tooltip = production_speed_synthetic_refinery_factor_tt
			}
			add_to_variable = { 
				GER_wehrwirtschaft_production_speed_fuel_silo_factor = 0.1
				tooltip = production_speed_fuel_silo_factor_tt
			}
		}
	}


	focus = {
		id = GER_accelerate_the_rearmament_program
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = GER_the_four_year_plan }

		x = 6
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_concentrated_armament_program
		icon = GFX_focus_generic_reorient_production
		prerequisite = { focus = GER_accelerate_the_rearmament_program }

		x = -2
		y = 1
		relative_position_id = GER_accelerate_the_rearmament_program
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_production_targets
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = GER_accelerate_the_rearmament_program }

		x = 2
		y = 1
		relative_position_id = GER_accelerate_the_rearmament_program
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

		
			
		}
	}
	
	focus = {
		id = GER_zentrale_planung
		icon = GFX_GER_autonomous_organization_todt_1
		prerequisite = { focus = GER_accelerate_the_rearmament_program  }

		x = 2
		y = 0
		relative_position_id = GER_concentrated_armament_program
		cost = 10
		available = {
			
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			

			
			
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_production_lack_of_resource_penalty_factor = -0.1
				tooltip = production_lack_of_resource_penalty_factor_tt
			}
			add_to_variable = { 
				GER_industrial_conversion_cost_civ_to_mil_factor = -0.2
				tooltip = conversion_cost_civ_to_mil_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.025
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_start_efficiency_factor = 0.025
				tooltip = production_factory_start_efficiency_factor_tt
			}
		}
	}

	focus = {
		id = GER_create_rustungsstab
		icon = GFX_focus_generic_mass_production
		prerequisite = { focus = GER_zentrale_planung }

		x = 1
		y = 1
		relative_position_id = GER_zentrale_planung
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industry_air_damage_factor = -0.1
				tooltip = industry_air_damage_factor_tt
			}

			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}

		}
	}

	focus = {
		id = GER_armament_rationalization
		icon = GFX_focus_generic_military_industry
		prerequisite = { focus = GER_zentrale_planung }

		x = -1
		y = 1
		relative_position_id = GER_zentrale_planung
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				GER_industrial_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				GER_industrial_production_factory_efficiency_gain_factor = 0.025
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				GER_industrial_line_change_production_efficiency_factor = 0.025
				tooltip = line_change_production_efficiency_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_totaler_krieg
		icon = GFX_GER_total_war
		prerequisite = { focus = GER_autarky_achieved }
		
		x = 0
		y = 1
		relative_position_id = GER_autarky_achieved
		cost = 5
		available = {
			date > 1943.1.1
		}

			select_effect = {
				play_song = "Totalen_Krieg"
			}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			custom_effect_tooltip = GER_add_total_war_economy
			show_ideas_tooltip = totaler_krieg_economy
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = speer
			custom_effect_tooltip = generic_skip_one_line_tt
			add_dynamic_modifier = {
				modifier = ger_total_war	
			}
			hidden_effect = {
				add_ideas = totaler_krieg_economy
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_1
		icon = GFX_focus_GER_customs_union
		prerequisite = { focus = GER_totaler_krieg }
		
		x = -2
		y = 1
		relative_position_id = GER_totaler_krieg
		cost = 7

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			GER_modify_total_war_modifier = yes
			add_to_variable = {
				GER_industrial_capacity_factory_total = 0.05
				tooltip = industrial_capacity_factory_tt
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_air_inspection
		icon = GFX_FRA_air_ground_cooperation_1
		prerequisite = { focus = GER_totaler_krieg }
		
		x = -2
		y = 0

		relative_position_id = GER_totaler_krieg_1
		cost = 5

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		available = {
			date>1943.1.1
		}

		completion_reward = {
			add_ideas = air_support_income
		}
	}

	focus = {
		id = GER_totaler_krieg_tank_inspection
		icon = GFX_GER_adopt_new_panzer_doctrine_1
		prerequisite = { focus = GER_totaler_krieg }
		
		x = 2
		y = 0

		relative_position_id = GER_totaler_krieg_2
		cost = 5

		continue_if_invalid = yes

		available = {
			date>1943.1.1
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_ideas = tank_support_income
		}
	}

	focus = {
		id = GER_totaler_krieg_inf_inspection
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = GER_totaler_krieg }
		
		x = 2
		y = 0

		relative_position_id = GER_totaler_krieg_tank_inspection
		cost = 5

		continue_if_invalid = yes

		available = {
			date>1942.9.1
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_ideas = tank_inf_income
			custom_effect_tooltip = generic_skip_one_line_tt
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 20000
				producer = GER
				}
				add_equipment_to_stockpile = {
				type = support_equipment
				amount = 3000
				producer = GER
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_upg_1
		icon = GFX_focus_generic_german_trade
		prerequisite = { focus = GER_totaler_krieg_1 }
		
		x = -1
		y = 1
		relative_position_id = GER_totaler_krieg_1
		cost = 7

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			GER_modify_total_war_modifier = yes
			add_to_variable = {
				GER_production_lack_of_resource_penalty_factor_total = -0.075
				tooltip = production_lack_of_resource_penalty_factor_tt
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_2
		icon = GFX_focus_GER_total_control_over_domestic_affairs
		prerequisite = { focus = GER_totaler_krieg }
		
		x = 2
		y = 1
		relative_position_id = GER_totaler_krieg
		cost = 7

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			GER_modify_total_war_modifier = yes
			add_to_variable = {
				GER_production_factory_max_efficiency_factor_total = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_upg_2
		icon = GFX_GER_totaler_krieg_plan
		prerequisite = { focus = GER_totaler_krieg_1 }
		
		x = 1
		y = 1
		relative_position_id = GER_totaler_krieg_1
		cost = 10
		
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_total_war_modifier = yes
			add_to_variable = {
				GER_production_factory_efficiency_gain_factor_toal = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_upg_3
		icon = GFX_GER_totalen_krieg_after
		prerequisite = { focus = GER_totaler_krieg_2 }
		
		x = 1
		y = 1
		relative_position_id = GER_totaler_krieg_economy_upg
		cost = 5
		
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }



		completion_reward = {
			hidden_effect = {
				scoped_play_song = "cze"
			}
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 3
						include_locked = yes
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 3
						include_locked = yes
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_total_war_modifier = yes
			add_to_variable = {
				GER_consumer_goods_expected_value_total = -0.1
				tooltip = consumer_goods_factor_tt
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_kaput
		icon = GFX_GER_demonstration_of_military_achievements
		prerequisite = { focus = GER_totaler_krieg_upg_2 }
		prerequisite = { focus = GER_totaler_krieg_upg_3 }
		
		x = 2
		y = 2
		relative_position_id = GER_totaler_krieg_1
		cost = 10
		
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		available = {
			has_completed_focus = GER_totaler_krieg_inf_inspection
			has_completed_focus = GER_totaler_krieg_tank_inspection
			has_completed_focus = GER_totaler_krieg_air_inspection
		}

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_idea = air_support_income
				}
				remove_ideas = air_support_income
			}
			if = {
				limit = {
					has_idea = tank_support_income
				}
				remove_ideas = tank_support_income
			}

			if = {
				limit = {
					has_idea = tank_inf_income
				}
				remove_ideas = tank_inf_income
			}
			
			add_ideas = tank_support_income_kaput
		}
	}

	focus = {
		id = GER_totaler_krieg_upg_5
		icon = GFX_focus_BRA_rubber_war
		prerequisite = { focus = GER_totaler_krieg_2 }
		
		x = 1
		y = 1
		relative_position_id = GER_totaler_krieg_2
		cost = 5
		
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 1
        	}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_total_war_modifier = yes
			add_to_variable = {
				GER_production_oil_factor_total = 0.15
				tooltip = production_oil_factor_tt
			}
		}
	}

	focus = {
		id = GER_totaler_krieg_economy_upg
		icon = GFX_GER_ministry_of_public_enlightenment_1
		prerequisite = { focus = GER_totaler_krieg }
		
		x = 0
		y = 1
		relative_position_id = GER_totaler_krieg
		cost = 7

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					has_idea = totaler_krieg_economy
				}
				swap_ideas = {
					remove_idea = totaler_krieg_economy
					add_idea = totaler_krieg_economy_upg
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = totaler_krieg_economy
						add_idea = totaler_krieg_economy_upg
					}
				}
			}
		}
	}

	focus = {
		id = GER_develop_modern_maneuver_warfare
		icon = GFX_focus_GER_army
		prerequisite = { focus = GER_remilitarize_the_rhineland}

		x = -3.5
		y = 1
		cost = 5
		available = {
		}
		relative_position_id = GER_remilitarize_the_rhineland
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_command_power = 25
			army_experience = 500

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = walther_von_brauchitsch

			custom_effect_tooltip = generic_skip_one_line_tt
			add_doctrine_cost_reduction = {
				name = GER_adopt_new_panzer_doctrine
				cost_reduction = 0.5
				uses = 3
				category = land_doctrine
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = henschel
					}
					swap_ideas = {
						remove_idea = henschel
						add_idea = GER_henschel_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = henschel
							add_idea = GER_henschel_improved
						}
					}
				}
			}
			else = {
				mio:GER_henschel_organization = {
					add_mio_size = 1
					add_mio_research_bonus = 0.05
				}
			}
		}
	}	

	
	focus = {
		id = GER_instill_auftragstaktik
		icon = GFX_focus_ger_oppose_hitler
		prerequisite = {  focus = GER_expand_kummersdorfs_capacity focus = GER_panzer_troops_school focus = GER_advanced_panzer_research}

		x = 0
		y = 1
		relative_position_id = GER_expand_kummersdorfs_capacity
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_initiative_factor = 0.1
				tooltip = initiative_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = franz_halder

			if = {
				limit = {
					has_character = GER_gerd_von_rundstedt
					GER_gerd_von_rundstedt = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				GER_gerd_von_rundstedt = {
					promote_leader = yes
				}
			}

			if = {
				limit = {
					has_character = GER_gunther_von_kluge
					GER_gunther_von_kluge = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				GER_gunther_von_kluge = {
					promote_leader = yes
				}
			}
		}
	}
	
	
	focus = {
		id = GER_panzergrenadier
		icon = GFX_focus_generic_mechanized
		prerequisite = { focus = GER_expand_kummersdorfs_capacity focus = GER_advanced_panzer_research }

		x = 2
		y = 0
		relative_position_id = GER_instill_auftragstaktik
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		available = {
			date>1940.6.1
		}
		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity_HEV
				bonus = 1
				uses = 1
				technology = mechanised_infantry2
				technology = mechanised_infantry3
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_acclimatization_hot_climate_gain_factor = 0.1
				tooltip = acclimatization_hot_climate_gain_factor_tt
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = mehan_cool
				days = 180
			}
		}
	}

	focus = {
		id = GER_inf_upg
		icon = GFX_focus_GER_support_the_proletarian_uprising
		prerequisite = { focus = GER_panzergrenadier }

		x = 0
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		
		available = {
			date>1941.6.1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity_HEV
				bonus = 1
				uses = 1
				technology = advanced_infantry_weapons
				technology = advanced_infantry_weapons2
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = inf_cool
				days = 180
			}
		}
	}

	focus = {
		id = GER_late_tanks
		icon = GFX_focus_GER_demonstration_of_military_achievements
		prerequisite = { focus = GER_inf_upg }
		prerequisite = { focus = GER_tank_research_late }

		x = -2
		y = 2
		relative_position_id = GER_panzergrenadier
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		available = {
			date>1942.6.1
		}
		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity_HEV
				bonus = 1
				uses = 1
				technology = main_battle_tank_chassis
			}
		}
	}
	
	focus = {
		id = GER_improve_the_logistics_system
		icon = GFX_focus_generic_reinforcing_the_supply_network
		prerequisite = { focus = GER_demands_to_sweden }

		x = 1
		y = 1
		relative_position_id = GER_demands_to_sweden
		cost = 5
		
		continue_if_invalid = yes

		search_filters = {}

		completion_reward = {
			every_army_leader = {
				add_logistics = 1
			}
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_supply_factor = 0.15
				tooltip = supply_factor_tt
			}
			add_to_variable = { 
				GER_military_army_fuel_consumption_factor = -0.1
				tooltip = army_fuel_consumption_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_adopt_new_panzer_doctrine

		icon = GFX_focus_generic_tank_assault
		

		prerequisite = { focus = GER_remilitarize_the_rhineland }
	
		x = 64
		y = 1
		
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			add_command_power = 25
			army_experience = 500

			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
				name = GER_panzergrenadier
				ahead_reduction = 2
				bonus = 2
				uses = 1
				category = cat_mechanized_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_adopt_new_panzer_doctrine
				cost_reduction = 0.5
				uses = 3
				category = land_doctrine
			}
		}
	}

	focus = {
		id = GER_adopt_new_inf_doctrine

		icon = GFX_focus_HUN_szent_laszlo_infantry_division

		prerequisite = { focus = GER_remilitarize_the_rhineland }
	
		x = 66
		y = 1
		
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			
			add_tech_bonus = {
				name = GER_infantry
				bonus = 0.7
				uses = 2
				category = infantry_weapons
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes			
			add_to_variable = { 
				GER_army_infantry_defence_factor_prewar = 0.05
				tooltip = army_infantry_defence_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_panzer_troops_school
		icon = GFX_focus_BRA_acquire_german_tanks
		prerequisite = { focus = GER_develop_modern_maneuver_warfare }

		x = -1
		y = 1
		relative_position_id = GER_develop_modern_maneuver_warfare
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {

			show_unit_leaders_tooltip = GER_hasso_von_manteuffel
			show_unit_leaders_tooltip = GER_walther_nehring

			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity_HEV
				bonus = 0.5
				uses = 2
				technology = antitank1
				technology = antitank2
			}
			GER_modify_army_modifier = yes			
			add_to_variable = { 
				GER_military_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}
		}
	}

	focus = {
		id = GER_artillert_academy
		icon = GFX_focus_generic_anti_tank_guns
		prerequisite = { focus = GER_panzer_troops_school }

		x = 0
		y = 1
		relative_position_id = GER_panzer_troops_school
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity_HEV
				bonus = 1
				uses = 1
				technology = antitank3
				technology = antitank4
				technology = artillery1
				technology = artillery2
			}
			custom_effect_tooltip = generic_skip_one_line_tt	
			GER_modify_army_modifier = yes			
			add_to_variable = { 
				GER_military_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}
		}
	}

	focus = {
		id = GER_tank_research_late
		icon = GFX_GER_panzer_troops_school_1
		prerequisite = { focus = GER_artillert_academy }
		prerequisite = { focus = GER_instill_auftragstaktik}

		x = 1
		y = 1
		relative_position_id = GER_artillert_academy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity_HEV
				ahead_reduction = 1
				bonus = 1
				uses = 2
				technology = advanced_heavy_tank_chassis
				technology = advanced_medium_tank_chassis
				technology = armor_tech_3
				technology = engine_tech_3
			}	
		}
	}
	
	focus = {
		id = GER_advanced_panzer_research
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = GER_adopt_new_panzer_doctrine }

		x = 65
		y = 2
		
		cost = 10
		


		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_advanced_panzer_research
				ahead_reduction = 1
				bonus = 1
				uses = 1
				technology = improved_heavy_tank_chassis
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_coordination_bonus = 0.05
				tooltip = coordination_bonus_tt
			}
			add_to_variable = { 
				GER_military_army_armor_attack_factor = 0.05
				tooltip = army_armor_attack_factor_tt
			}
			add_to_variable = { 
				GER_military_mechanized_attack_factor = 0.05
				tooltip = mechanized_attack_factor_tt
			}	
			

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = GER_MAN
					}
					swap_ideas = {
						remove_idea = GER_MAN
						add_idea = GER_MAN_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_MAN
							add_idea = GER_MAN_improved
						}
					}
				}
			}
			else = {
				mio:GER_MAN_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_expand_kummersdorfs_capacity
		icon = GFX_focus_generic_heavy_tank
		
		prerequisite = { focus = GER_adopt_new_panzer_doctrine focus = GER_develop_modern_maneuver_warfare}

		x = 63
		y = 2
		
		cost = 5
		
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity_HEV
				ahead_reduction = 1
				bonus = 1
				uses = 1
				technology = basic_medium_tank_chassis
				technology = improved_medium_tank_chassis
			}
			custom_effect_tooltip = generic_skip_one_line_tt
		
			
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_tank_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_tank_speed_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = porsche
					}
					swap_ideas = {
						remove_idea = porsche
						add_idea = GER_porsche_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = porsche
							add_idea = GER_porsche_improved
						}
					}
				}
			}
			else = {
				mio:GER_porsche_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	#LUFTWAFFE
	focus = {
		id = GER_expanding_the_luftwaffe
		icon = GFX_focus_GER_airforce
		prerequisite = { focus = GER_remilitarize_the_rhineland }

		x = 3
		y = 0
		
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_CHARACTER }
		relative_position_id = GER_adopt_new_inf_doctrine
		completion_reward = {			
			
			air_experience = 300

			42 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}

			51 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}

			56 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}

			57 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_ideas = industry_liasons_spirit
			
		}
	}
	
	focus = {
		id = GER_aeronautical_research_institute
		icon = GFX_focus_generic_air_research_boost
		prerequisite = { focus = GER_expanding_the_luftwaffe }

		x = -1
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			air_experience = 200
			if = {
				limit = {
					controls_state = 59
				}
				59 = { #Hannover
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_cas_efficiency = 0.1
				tooltip = air_cas_efficiency_tt
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
				name = GER_aeronautical_research_institute_1
				bonus = 0.5
				uses = 2
				category = air_equipment
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_tech_bonus = {
    			bonus = 0.75
    			uses = 1
    			technology = engines_3
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_arado_flugzeugwerke
					}
					swap_ideas = {
						remove_idea = GER_arado_flugzeugwerke
						add_idea = GER_arado_flugzeugwerke_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_arado_flugzeugwerke
							add_idea = GER_arado_flugzeugwerke_improved
						}
					}
				}
			}
			else = {
				mio:GER_messerschmitt_organization = {
					add_mio_size = 1
				}
			}
		}
	}
	
	focus = {
		id = GER_dive_bombers

		icon = GFX_focus_generic_cas_aircraft
		alternate_icon = GFX_focus_GER_sturzkampfbomber_historical

		prerequisite = { focus = GER_aeronautical_research_institute }
		prerequisite = { focus = GER_form_the_jagdwaffe }
		
		x = 1
		y = 1
		relative_position_id = GER_aeronautical_research_institute
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			air_experience = 300
			add_tech_bonus = {
				name = GER_dive_bombers
				bonus = 1
				uses = 1
				category = light_air
			}
		}
	}
	
	focus = {
		id = GER_dive_bombers

		icon = GFX_focus_generic_cas_aircraft
		alternate_icon = GFX_focus_GER_sturzkampfbomber_historical

		prerequisite = { focus = GER_aeronautical_research_institute }
		prerequisite = { focus = GER_form_the_jagdwaffe }
		
		x = 1
		y = 1
		relative_position_id = GER_aeronautical_research_institute
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			air_experience = 300
			add_tech_bonus = {
				name = GER_dive_bombers
				bonus = 1
				uses = 1
				technology =improved_small_airframe
			}
			add_tech_bonus = {
				name = GER_cas
				bonus = 1
				uses = 1
				technology = tank_buster_1
				technology = heavy_bombs
			}
		}
	}

	focus = {
		id = GER_air_1

		icon = GFX_focus_GER_our_place_in_the_sun
		

		prerequisite = { focus = GER_dive_bombers }
		
		x = -1
		y = 1
		relative_position_id = GER_dive_bombers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_dive_bombers_1
				bonus = 1
				uses = 1
				technology = advanced_small_airframe
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_air_cas_present_factor_war = 0.1
				tooltip = air_cas_present_factor_tt
			}
		}
	}

	focus = {
		id = GER_air_2

		icon = GFX_focus_GER_amerikabomber

		prerequisite = { focus = GER_dive_bombers }
		
		x = 1
		y = 1
		relative_position_id = GER_dive_bombers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_dive_bombers_2
				bonus = 0.7
				uses = 2
				technology = advanced_medium_airframe
				technology = advanced_large_airframe
			}
		}
	}

	focus = {
		id = GER_air_3

		icon = GFX_focus_GER_divide_and_conquer
		

		prerequisite = { focus = GER_air_1 focus = GER_air_2}
		
		x = 0
		y = 2
		relative_position_id = GER_dive_bombers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_dive_bombers_1
				bonus = 1
				uses = 1
				technology = engines_4
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_air_night_penalty_war = -0.1
				tooltip = air_night_penalty_tt
			}
		}
	}

	focus = {
		id = GER_air_4

		icon = GFX_focus_generic_air_research_boost
		

		prerequisite = { focus = GER_air_3}
		
		x = 2
		y = 1
		relative_position_id = GER_air_3
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_dive_bombers_1
				bonus = 0.5
				uses = 2
				technology = aa_cannon_2
				technology = aa_cannon_3
			}
		}
	}

	focus = {
		id = GER_air_5

		icon = GFX_focus_ger_break_anglo_french_colonial_hegemony
		

		prerequisite = { focus = GER_air_3}
		
		x = 0
		y = 1
		relative_position_id = GER_air_3
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_dive_bombers_1
				ahead_reduction = 1
				bonus = 1
				uses = 1
				technology = modern_small_airframe
			}
		}
	}

	focus = {
		id = GER_form_the_jagdwaffe
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = GER_expanding_the_luftwaffe }

		x = 1
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			air_experience = 200

			add_doctrine_cost_reduction = {
				name = GER_form_the_jagdwaffe
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}


			GER_modify_airforce_modifier = yes
		
			add_to_variable = { 
				GER_military_air_agility_factor = 0.05
				tooltip = air_agility_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = messerschmitt
					}
					swap_ideas = {
						remove_idea = messerschmitt
						add_idea = GER_messerschmitt_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = messerschmitt
							add_idea = GER_messerschmitt_improved
						}
					}
				}
			}
			else = {
				mio:GER_messerschmitt_organization = {
					add_mio_size = 1 
				}
			}
		}
	}


	

	
	focus = {
		id = GER_construct_the_kammhuber_line
		icon = GFX_focus_generic_energy
		prerequisite = { focus = GER_demands_to_sweden }

		x = -1
		y = 1
		relative_position_id = GER_demands_to_sweden
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_timed_idea = {
				idea = GER_the_kammhuber_line
				days = 365
			}
		}
	}
	



	#KRIEGSMARINE
	focus = {
		id = GER_strengthen_the_kriegsmarine
		icon = GFX_focus_GER_navy
		prerequisite = { focus = GER_remilitarize_the_rhineland }
		relative_position_id = GER_expanding_the_luftwaffe
		x = 4
		y = 0
		
		cost = 5
		available = {
		}



		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			navy_experience = 25
			custom_effect_tooltip = generic_skip_one_line_tt
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_trade_interdiction

		icon = GFX_focus_generic_trade_interdiction
		alternate_icon = GFX_focus_GER_trade_interdiction_historical

		prerequisite = { focus = GER_strengthen_the_kriegsmarine }

		x = 73
		y = 2
		
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }
		
		complete_tooltip = {
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_trade_interdiction
				cost_reduction = 0.25
				uses = 2
				category = trade_interdiction_tree	
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					GER_karl_donitz = {
						is_unit_leader = yes
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = available_chief_of_navy
				show_ideas_tooltip = donitz
			}
		}
	}
	
	focus = {
		id = GER_cruiser_warfare
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = GER_trade_interdiction }

		x = 74
		y = 3
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}
		
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_cruiser_warfare
				bonus = 0.5
				uses = 1
				category = cl_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_erich_raeder
					GER_erich_raeder = {
						is_unit_leader = yes
					}
				}
				if = {
					limit = {
						GER_erich_raeder = {
							NOT = { has_trait = superior_tactician }
						}
					}
					add_trait = {
					    character = GER_erich_raeder
					    trait = superior_tactician
					}
				}
				else_if = {
					limit = {
						GER_erich_raeder = {
							NOT = { has_trait = cruiser_captain }
						}
					}
					add_trait = { 
					    character = GER_erich_raeder
					    trait = cruiser_captain
					}
				}
			}

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_convoy_raiding_efficiency_factor = 0.05
				tooltip = convoy_raiding_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_light_gun_hit_chance_factor = 0.05
				tooltip = naval_light_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = GER_refit_convoys_to_cruisers

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = blohm_und_voss
					}
					swap_ideas = {
						remove_idea = blohm_und_voss
						add_idea = GER_blohm_und_voss_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = blohm_und_voss
							add_idea = GER_blohm_und_voss_improved
						}
					}
				}
			}
			else = {
				mio:GER_blohm_und_voss_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_heavy_raiders
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_panzerschiff_raiders
		icon = GFX_focus_ARG_study_the_battle_of_the_river_plate
		prerequisite = { focus = GER_cruiser_warfare }
		mutually_exclusive = { focus = GER_u_boat_efforts }

		x = 0
		y = 1
		relative_position_id = GER_cruiser_warfare
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = GER_cruiser_warfare
				bonus = 0.5
				uses = 1
				category = ca_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_screening_without_screens = 0.1
				tooltip = screening_without_screens_tt
			}
			add_to_variable = { 
				GER_military_naval_light_gun_hit_chance_factor = 0.05
				tooltip = naval_light_gun_hit_chance_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_heavy_gun_hit_chance_factor = 0.05
				tooltip = naval_heavy_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:GER_blohm_und_voss_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_o_class_battlecruisers
				}
			}
		}
	}
	
	focus = {
		id = GER_wolfpack_tactics
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = GER_trade_interdiction }

		x = 72
		y = 3
		
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_wolfpack_tactics
				cost_reduction = 0.25
				uses = 1
				category = trade_interdiction_tree	
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_karl_donitz
					GER_karl_donitz = {
						is_unit_leader = yes
					}

				}
				if = {
					limit = {
						GER_karl_donitz = {
							NOT = { has_trait = bold }
						}
					}
					add_trait = {
					    character = GER_karl_donitz
					    trait = bold
					}
				}
				else_if = {
					limit = {
						GER_karl_donitz = {
							NOT = { has_trait = spotter }
						}
					}
					add_trait = {
					    character = GER_karl_donitz
					    trait = spotter
					}
				}
			}

			add_timed_idea = {
				idea = GER_rudeltaktik_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = alfred_saalwachter
		}
	}
	
	focus = {
		id = GER_u_boat_efforts
		icon = GFX_focus_BRA_german_submarine_development
		prerequisite = { focus = GER_wolfpack_tactics }
		mutually_exclusive = { focus = GER_panzerschiff_raiders }
		x = 0
		y = 1
		relative_position_id = GER_wolfpack_tactics
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			set_technology = { improved_ship_hull_submarine = 1 }
            set_technology = { basic_submarine_snorkel = 1 }
		
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			custom_effect_tooltip = GER_submarine_max_speed_small_tt
			hidden_effect = {
				add_equipment_bonus = {
					name = GER_u_boat_efforts
					bonus = {
						ship_hull_submarine = {
							naval_speed = 0.05 #WARNING! If you change this value, you need to update GER_submarine_max_speed_small_tt
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_submarine_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_submarine_speed_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_hdw
					}
					swap_ideas = {
						remove_idea = GER_hdw
						add_idea = GER_hdw_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_hdw
							add_idea = GER_hdw_improved
						}
					}
				}
			}
			else = {
				mio:GER_hdw_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_ocean_u_boats
					unlock_mio_trait_tooltip = GER_mio_trait_kilian_submarine_bunker
					unlock_mio_trait_tooltip = GER_mio_trait_atlantic_raiders
				}
				mio:GER_blohm_und_voss_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_u_boat_yards
				}
			}
		}
	}
	
	focus = {
		id = GER_unrestricted_convoy_raiding
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GER_panzerschiff_raiders focus = GER_u_boat_efforts }

		x = -1
		y = 1
		relative_position_id = GER_panzerschiff_raiders
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_plan_z }
				}
				custom_effect_tooltip = GER_unlock_plan_z_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_naval_defense_factor = 0.05
				tooltip = naval_defense_factor_tt
			}
			add_to_variable = { 
				GER_military_convoy_raiding_efficiency_factor = 0.05
				tooltip = convoy_raiding_efficiency_factor_tt
			}
			if = {
				limit = {
					NOT = {
						has_completed_focus = GER_panzerschiff_raiders
						has_completed_focus = GER_u_boat_efforts
					}
				}
				custom_effect_tooltip = GER_with_panzerschiff_completed_tt
				add_to_variable = { 
					GER_military_screening_without_screens = 0.1
					tooltip = screening_without_screens_tt
				}
				custom_effect_tooltip = GER_with_u_boat_efforts_completed_tt
				custom_effect_tooltip = GER_submarine_max_speed_small_tt
			}
			else_if = {
				limit = {
					has_completed_focus = GER_panzerschiff_raiders
				}
				add_to_variable = { 
					GER_military_screening_without_screens = 0.1
					tooltip = screening_without_screens_tt
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_u_boat_efforts
				}
				custom_effect_tooltip = GER_submarine_max_speed_small_tt
				hidden_effect = {
					add_equipment_bonus = {
						name = GER_unrestricted_convoy_raiding
						bonus = {
							ship_hull_submarine = {
								naval_speed = 0.05 #WARNING! If you change this value, you need to update GER_submarine_max_speed_small_tt
							}
						}
					}
				}
			}	
		}
	}
	



##     ## ####  ######  ########  #######  ########  ####  ######     ###    ##          ##      ## ##      ## 
##     ##  ##  ##    ##    ##    ##     ## ##     ##  ##  ##    ##   ## ##   ##          ##  ##  ## ##  ##  ## 
##     ##  ##  ##          ##    ##     ## ##     ##  ##  ##        ##   ##  ##          ##  ##  ## ##  ##  ## 
#########  ##   ######     ##    ##     ## ########   ##  ##       ##     ## ##          ##  ##  ## ##  ##  ## 
##     ##  ##        ##    ##    ##     ## ##   ##    ##  ##       ######### ##          ##  ##  ## ##  ##  ## 
##     ##  ##  ##    ##    ##    ##     ## ##    ##   ##  ##    ## ##     ## ##          ##  ##  ## ##  ##  ## 
##     ## ####  ######     ##     #######  ##     ## ####  ######  ##     ## ########     ###  ###   ###  ###  





	focus = {
		id = GER_remilitarize_the_rhineland

		icon = GFX_focus_GER_remilitarize_the_rhineland
		alternate_icon = GFX_focus_GER_remilitarize_the_rhineland_historical

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = GER_oppose_hitler_ww
						has_completed_focus = GER_oppose_hitler
					}
				}
			}
		}

		x = 65
		y = 0
		

		cost = 5

		available = {
			is_subject = no
			has_government = fascism
			42 = { is_fully_controlled_by = ROOT } #RHINELAND
			51 = { is_fully_controlled_by = ROOT } #MOSSELLAND
			978 = { is_fully_controlled_by = ROOT } #BADEN
		}
		
		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP }	

		completion_reward = {

			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			978 = { set_demilitarized_zone = no }
			set_global_flag = rhineland_remilitarized

			custom_effect_tooltip = generic_skip_one_line_tt
			add_political_power = 75
			

			custom_effect_tooltip = generic_skip_one_line_tt
			add_named_threat = { threat = 5 name = GER_rhineland }

			

			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = GER_help_minors
		icon = GFX_focus_GER_european_confederation
		available = {
			has_completed_focus = GER_remilitarize_the_rhineland
		}

		x = -7
		y = 0

		relative_position_id = GER_anschluss
		cost = 5

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			ROM = {
				add_stability = 0.15
				add_war_support = 0.1
			}
			HUN = {
				add_stability = 0.15
				add_war_support = 0.1
			}
			BUL = {
				add_stability = 0.15
				add_war_support = 0.1
			}
		}
	}

	focus = {
		id = GER_help_hun_1
		icon = GFX_focus_generic_befriend_hungary
		prerequisite = {focus = GER_help_minors }
		
		x = 2
		y = 0

		relative_position_id = GER_help_rom_1
		cost = 10

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			HUN = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = HUN
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					random_select_amount = 2
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_timed_idea = {
					idea = GER_bul_help
					days = 180
				}
			}
		}
	}

	focus = {
		id = GER_help_hun_2
		icon = GFX_focus_generic_befriend_hungary
		prerequisite = {focus = GER_help_hun_1 }
		
		x = 0
		y = 1

		relative_position_id = GER_help_hun_1
		cost = 5

		continue_if_invalid = yes

		available = {
			date>1940.1.1
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			HUN = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = HUN
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					random_select_amount = 1
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = aluminium
   					amount = 25
    				state = 43
				}
				add_resource = {
					type = steel
   					amount = 25
    				state = 43
				}	
			}
		}
	}

	focus = {
		id = GER_help_hun_3
		icon = GFX_focus_generic_befriend_hungary
		prerequisite = {focus = GER_help_hun_2 }
		
		x = 0
		y = 1

		relative_position_id = GER_help_hun_2
		cost = 10

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			HUN = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = HUN
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					random_select_amount = 2
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
					type = volfram
   					amount = 25
    				state = 43
				}
				add_resource = {
					type = rubber
   					amount = 15
    				state = 43
				}	
			}
		}
	}

	focus = {
		id = GER_help_bul_1
		icon = GFX_focus_generic_befriend_bulgaria
		prerequisite = {focus = GER_help_minors }
		
		x = -2
		y = 0

		relative_position_id = GER_help_rom_1
		cost = 5

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			BUL = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = BUL
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					random_select_amount = 2
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}	
			}
		}
	}

	focus = {
		id = GER_help_bul_2
		icon = GFX_focus_generic_befriend_bulgaria
		prerequisite = {focus = GER_help_bul_1 }
		
		x = 0
		y = 1

		relative_position_id = GER_help_bul_1
		cost = 5

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		available = {
			date>1940.1.1
		}

		completion_reward = {
			add_timed_idea = {
				idea = GER_bul_help
				days = 180
			}
		}
	}

	
	focus = {
		id = GER_help_bul_3
		icon = GFX_focus_generic_befriend_bulgaria
		prerequisite = {focus = GER_help_bul_2 }
		
		x = 0
		y = 1

		relative_position_id = GER_help_bul_2
		cost = 10

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			BUL = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = BUL
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					random_select_amount = 3
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
    				type = steel
   					amount = 40
    				state = 48
				}	
			}
		}
	}

	focus = {
		id = GER_help_rom_1
		icon = GFX_focus_invite_romania
		prerequisite = {focus = GER_help_minors }
		
		x = 0
		y = 1

		relative_position_id = GER_help_minors
		cost = 5

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			ROM = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = ROM
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					random_select_amount = 2
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}	
			}
		}
	}

	focus = {
		id = GER_help_rom_2
		icon = GFX_focus_invite_romania
		prerequisite = {focus = GER_help_rom_1 }
		
		x = 0
		y = 1

		relative_position_id = GER_help_rom_1
		cost = 5

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		available = {
			date>1940.1.1
		}

		completion_reward = {
			ROM = {
				add_resource = {
    				type = oil
   					amount = 17
    				state = 84
				}
				add_resource = {
    				type = oil
   					amount = 10
    				state = 46
				}	
			}
		}
	}

	focus = {
		id = GER_help_rom_3
		icon = GFX_focus_invite_romania
		prerequisite = {focus = GER_help_rom_2 }
		
		x = 0
		y = 1

		relative_position_id = GER_help_rom_2
		cost = 10

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			ROM = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = ROM
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					random_select_amount = 2
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				add_resource = {
    				type = steel
   					amount = 25
    				state = 81
				}
			}
		}
	}

	focus = {
		id = GER_get_ready_for_ost_for_minors
		icon = GFX_focus_GER_integrated_economies
		prerequisite = {focus = GER_help_bul_3 }
		prerequisite = {focus = GER_help_hun_3 }
		prerequisite = {focus = GER_help_rom_3 }

		x = 2
		y = 1

		relative_position_id = GER_help_bul_3
		cost = 10

		continue_if_invalid = yes

		available = {
			date>1941.4.1
			
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			BUL = {
				add_timed_idea = {
					idea = GER_minors_totalen_krieg
					days = 100
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			HUN = {
				add_timed_idea = {
					idea = GER_minors_totalen_krieg
					days = 100
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			ROM = {
				add_timed_idea = {
					idea = GER_minors_totalen_krieg
					days = 100
				}
			}
		}
	}

	focus = {
		id = GER_anschluss

		icon = GFX_focus_GER_anschluss
		alternate_icon = GFX_focus_GER_anschluss_historical

		

		x = -10
		y = 0
		relative_position_id = GER_the_four_year_plan
		cost = 5

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		continue_if_invalid = yes
		
		available_if_capitulated = no
		
		available = {
			date > 1937.7.1
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1938.1.1
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_STABILITY }

		completion_reward = {
			annex_country = {
				target = AUS
				transfer_troops = no
			}
			add_named_threat = { threat = 5 name = GER_anschluss }
			play_song = "sp_ger_anschluss_this_land_is_german_ma"
		}
	}
	
	
	focus = {
		id = GER_demand_sudetenland

		icon = GFX_focus_generic_attack_czechoslovakia
		alternate_icon = GFX_focus_GER_demand_sudetenland

		prerequisite = { focus = GER_anschluss }

		x = 2
		y = 1
		relative_position_id = GER_anschluss

		cost = 5

		will_lead_to_war_with = CZE
		will_lead_to_war_with = FRA


		available = {
		}

		cancel_if_invalid = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		select_effect = {
			play_song = "sp_ger_hitler_the_misery_of_the_sudeten_germans_ma"
		}

		completion_reward = {
			### EVENT CHAIN - MUNICH CONFERENCE (CZE is always involved) ###
			if = {
				limit = {
					CZE = {
						OR = {
							controls_state = 69
							controls_state = 972
							controls_state = 74
						}
					}
				}
				if = { # HOL has formed EU and CZE is part of it - Alt-hist
					limit = {
						CZE = {
							is_in_faction_with = HOL
							is_subject = no
						}
						HOL = {
							has_completed_focus = HOL_foundations_for_a_european_union
							is_faction_leader = yes
							is_subject = no
							exists = yes
						}
						NOT = { has_war_with = HOL }
						NOT = { has_war_with = FRA }
						OR = {
							HUN = {
								NOT = {
									has_completed_focus = HUN_protect_czechoslovakia #DOD only
								}
							}
							CZE = {
								has_country_flag = HUN_AH_CZE_refused
							}
						}
					}
					HOL = {
						country_event = germany.40
					}
				}
				else_if = { #THIS IS THE HISTORICAL OUTCOME THAT SHOULD HAPPEN ON HISTORICAL - HISTORICAL HERE!! 
					limit = {
						ENG = {
							NOT = { has_completed_focus = ENG_a_change_in_course }
							exists = yes
							is_subject = no
						}
						NOT = { has_war_with = ENG }
						NOT = { has_war_with = FRA }
						CZE = {
							is_subject = no
							NOT = { is_in_faction_with = GER }
							NOT = { has_war_with = ENG }
							OR = {
								controls_state = 69
								controls_state = 972
								controls_state = 74
							}
						}
						OR = {
							HUN = {
								NOT = {
									has_completed_focus = HUN_protect_czechoslovakia #DOD only
								}
							}
							CZE = {
								has_country_flag = HUN_AH_CZE_refused
							}
						}
					}
					ENG = {
						country_event = germany.40
					}
				}

				### EVENT CHAIN - ALT-HIST DEMAND OF SUDETENLAND TO CZE OR THEIR OVERLORD ###
				else_if = { # If not historical and CZE is independent or GER subject, send event to them
					limit = {
						CZE = {
							OR = {
								is_subject = no
								is_subject_of = ROOT
							}
						}
					}
					CZE = {
						country_event = { id = germany.122 }
					}
				}
				else_if = { # If not historical and CZE is subject of someone else, send event to overlord
					limit = {
						CZE = { is_subject = yes }
					}
					CZE = {
						overlord = { country_event = { id = germany.122 } }
					}
				}
			}

			### EVENT CHAIN - ALT-HIST SOME ONE ELSE CONTROLS SUDETENLAND STATES ###
			if = { #If other countries control Sudetenland states -> send event to them or overlord
				limit = {
					any_other_country = {
						NOT = { tag = CZE }
						OR = {
							controls_state = 69
							controls_state = 972
							controls_state = 74
						}
						NOT = { has_war_with = ROOT }
					}
				}
				every_other_country = {
					limit = {
						NOT = { tag = CZE }
						OR = {
							controls_state = 69
							controls_state = 972
							controls_state = 74
						}
						NOT = { has_war_with = ROOT }
					}
					if = { # If independent or GER subject, send event to them
						limit = {
							OR = {
								is_subject = no
								is_subject_of = ROOT
							}
						}
						country_event = { id = germany.1041 days = 4 random_days = 2 }
					}
					else = { #If subject of someone else, send event to overlord
						if = {
							limit = {
								overlord = { NOT = { has_war_with = ROOT } }
							}
							overlord = { country_event = { id = germany.1041 days = 4 random_days = 2 } }
						}
					}
				}
			}
			HUN = {
				country_event = { id = germany.51 }
				event_option_tooltip = germany.51.a
			}
			add_named_threat = { threat = 4 name = GER_demand_sudetenland_threat }
		}
	}
	
	focus = {
		id = GER_fate_of_czechoslovakia

		icon = GFX_focus_GER_fate_of_czechoslovakia
		alternate_icon = GFX_focus_GER_fate_of_czechoslovakia_historical

		prerequisite = { focus = GER_demand_sudetenland }
		prerequisite = { focus = GER_anti_comintern_pact }
		prerequisite = { focus = GER_reassert_eastern_claims }
		x = 38
		y = 2
		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = CZE

		
		available = { 
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

			select_effect = {
				play_song = "sp_ger_the_greatest_struggle_in_the_history_music"
			}

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_end_of_czechoslovakia }

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					CZE = {
						exists = yes
						has_war = no
						is_subject = no
					}
				}
				set_global_flag = end_of_czechoslovakia
				CZE = { country_event = germany.53 }
			}
			else_if = {
				limit = {
					CZE = { 
						is_subject_of = ROOT
					}
				}
				CZE = { country_event = { id = wuw_GER_diplomacy.117 days = 1 }}
			}
			else_if = {
				limit = {
					CZE = {
						exists = no
					}
					9 = {
						is_controlled_by = ROOT
						NOT = { is_claimed_by = ROOT }
					}
					75 = {
						is_controlled_by = ROOT
						NOT = { is_claimed_by = ROOT }
					}
				}
				add_state_claim = 9
				add_state_claim = 75
				country_event = { id = germany.55 hours = 6 }
			}
			else_if = {
				limit = {
					CZE = { exists = yes }
				}
				add_state_claim = 9
				add_state_claim = 75
				create_wargoal = {
					type = annex_everything
					target = CZE
				}
			}
		}
	}

	focus = {
		id = GER_reassert_eastern_claims
		icon =  GFX_GER_demand_lithuanian_integration
		prerequisite = { focus = GER_anschluss }

		x = 0
		y = 1
		relative_position_id = GER_anschluss
		cost = 2
		
		available = { 
			is_subject = no 
		}

		will_lead_to_war_with = LIT

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			188 = { add_claim_by = GER }
			85 = { add_claim_by = GER }
			807 = { add_claim_by = GER }
			86 = { add_claim_by = GER }
			762 = { add_claim_by = GER }

			add_named_threat = { threat = 3 name = GER_demand_memel_threat }

			random_other_country = {
				limit = {
					owns_state = 188
					controls_state = 188 
				}
				country_event = { 
					id = baltic.4 
					days = 1
					random_days = 3
				}
			}

		}
	}
	
	focus = {
		id = GER_danzig_or_war

		icon = GFX_focus_GER_danzig_or_war
		alternate_icon = GFX_focus_GER_danzig_or_war_historical

		prerequisite = { focus = GER_molotov_ribbentrop_pact }
		prerequisite = { focus = GER_treaty_with_the_ussr }
		x = 0
		y = 3
		relative_position_id = GER_reassert_eastern_claims
		cost = 2

		will_lead_to_war_with = POL

		continue_if_invalid = yes

		available = {
			date > 1939.8.1
		}

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				OR = {
					date < 1939.1.1
					any_neighbor_country = {
						has_war_with = GER
						NOT = { has_capitulated = yes }
						strength_ratio = {
							tag = GER
							ratio > 0.6
						}
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			hidden_effect = {
				play_song = "GER_declare_war_Allies"
				28 = {
				add_dynamic_modifier = {
					modifier = Kefir_delat_plaki_plaki
					scope = GER
					days = 200
				}
			}
			42 = {
				add_dynamic_modifier = {
					modifier = Kefir_delat_plaki_plaki
					scope = FRA
					days = 200
				}
			}
			51 = {
				add_dynamic_modifier = {
					modifier = Kefir_delat_plaki_plaki
					scope = FRA
					days = 200
				}
			}
			35 = {
				add_dynamic_modifier = {
					modifier = Kefir_delat_plaki_plaki
					scope = FRA
					days = 200
				}
			}
			7 = {
				add_dynamic_modifier = {
					modifier = Kefir_delat_plaki_plaki
					scope = FRA
					days = 200
				}
			}
				ENG = {add_to_faction = POL}
			}
			add_named_threat = { threat = 5 name = GER_danzig_or_war }
			if = {
				limit = {
					85 = {
						controller = {
							tag = POL
							has_civil_war = no
						}
					}
				}
				effect_tooltip = {
					transfer_state = 85
					add_state_core = 85
					transfer_state = 807
					add_state_core = 807
					remove_state_claim = 86
					remove_state_claim = 762
				}
				POL = {
					country_event = { id = germany.86 }
					if = {
						limit = { NOT = { is_in_faction_with = ROOT } }
						custom_effect_tooltip = needs_approval
					}
					if = {
						limit = { 
							is_in_faction_with = ROOT 
							ROOT = { is_faction_leader = yes }
						}
						custom_effect_tooltip = GER_danzig_or_war_POL_faction_GER_leader
					}
					if = {
						limit = {
							is_in_faction_with = ROOT 
							NOT = { ROOT = { is_faction_leader = yes } }
						}
						custom_effect_tooltip = GER_danzig_or_war_POL_faction_GER_noleader
					}
				}
			}
			if = {
				limit = {
					85 = {
						owner = {
							OR = {
								original_tag = POL
								tag = POL
							}
							has_civil_war = yes
						}
					}
				}
				random_other_country = {
					limit = {
						original_tag = POL
						has_civil_war = yes
						OR = {
							is_in_faction_with = GER
							has_volunteers_amount_from = {
								tag = GER
								count > 0
							}
						}
					}
					country_event = { id = germany.113 days = 1 }
				}
				custom_effect_tooltip = GER_danzig_or_war_POL_civil_war
			}
		}
	}
	
	focus = {
		id = GER_around_maginot

		icon = GFX_focus_GER_around_maginot
		alternate_icon = GFX_focus_GER_around_maginot_historical

		prerequisite = { focus = GER_danzig_or_war }
		x = -1
		y = 1
		relative_position_id = GER_danzig_or_war
		cost = 4

		will_lead_to_war_with = BEL
		will_lead_to_war_with = HOL
		will_lead_to_war_with = LUX
		will_lead_to_war_with = FRA

		available = {
		}

		historical_ai = {
			date > 1939.1.1
			NOT = {
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					NOT = { tag = DEN }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
		}

		ai_will_do = {
			factor = 10			
			modifier = {
				factor = 0.05
				date < 1939.1.1
			}			
			modifier = {
				factor = 0.2
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			create_wargoal = { target = HOL    type = take_state_focus } 
			create_wargoal = { target = BEL    type = take_state_focus } 
			create_wargoal = { target = FRA    type = take_state_focus }
			create_wargoal = { target = LUX    type = take_state_focus }
			hidden_effect = {
				news_event = { hours = 6 id = news.234 }
			}
		}
	}

	focus = {
		id = GER_operation_weserubung

		icon = GFX_focus_GER_operation_wesserubung
		alternate_icon = GFX_focus_GER_operation_wesserubung_historical

		prerequisite = { focus = GER_danzig_or_war }
		x = 1
		y = 1
		relative_position_id = GER_danzig_or_war
		cost = 4

		will_lead_to_war_with = DEN 
		will_lead_to_war_with = NOR

		available = {
			is_subject = no
			hidden_trigger = {
				OR = {
					AND = {
						is_ai = yes
						NOT = { has_country_flag = SWE_GER_avoid_dow_nordics }
					}

					is_ai = no
				}
			}
			POL = {
				has_capitulated = yes
			}
			DEN = {
				has_capitulated = yes
			}
			FRA = {
				has_capitulated = yes
			}
		}

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		historical_ai = {
			any_home_area_neighbor_country = {
				OR = {
					NOT = { has_war_with = ROOT	}
					POL = { has_capitulated = yes }
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			
			declare_war_on = { target = DEN    type = take_state_focus } 
			declare_war_on = { target = NOR    type = take_state_focus } 
			set_technology = { mtg_landing_craft = 1 }
			hidden_effect = {
				news_event = { hours = 6 id = news.233 }
				division_template = {
					name = "Штурмовые дивизии" 	
					division_names_group = FRA_ARM_01

					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 1 }
						engineer = { x = 0 y = 0 }
						anti_tank = { x = 0 y = 2 }
					}
				}
				110 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						#prioritize_location = 6115
						allow_spawning_on_enemy_provs = yes  
						count = 2
					}
				}
				143 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						#prioritize_location = 3022
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				144 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						#prioritize_location = 192
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				142 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						#prioritize_location = 122
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				142 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						#prioritize_location = 53
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				922 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						#prioritize_location = 9296
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				911 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						#prioritize_location = 3335
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				909 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				921 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				920 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				923 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				924 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
				925 = {
					create_unit = {
						division = "name = \"Штурмовые дивизии\" division_template = \"Штурмовые дивизии\" start_experience_factor = 0.35 start_equipment_factor = 1 start_manpower_factor = 1"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes  
						count = 2
					} 
				}
			}
		}
	}

	focus = {
		id = GER_demands_to_sweden
		icon = GFX_focus_generic_invade_sweden
		prerequisite = { focus = GER_operation_weserubung }
		prerequisite = { focus = GER_around_maginot }
		x =-1
		y = 1
		relative_position_id = GER_operation_weserubung
		cost = 5
		available = {
			
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			SWE = {
				give_resource_rights = {
					receiver = ROOT 
					state = 918 #Västerbotten 
				}
				give_resource_rights = {
					receiver = ROOT 
					state = 666 #Västerbotten 
				}
			}
		}
	}

	focus = {
		id = GER_anti_comintern_pact

		icon = GFX_goal_anti_comintern_pact
		alternate_icon = GFX_focus_GER_anti_comintern_pact

		prerequisite = { focus = GER_anschluss }

		x = -2
		y = 1
		relative_position_id = GER_anschluss
		cost = 5
		
		bypass = {
			SOU = {
				OR = {
					NOT = {
						has_government = communism
					}
					exists = no
				}
			}
		}

		available = {
			is_subject = no
			NOT = { has_government = communism }
			NOT = { is_in_faction_with = SOU }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			SOU = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
			add_named_threat = { threat = 2 name = GER_anti_comintern_pact }
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = SOU }
					is_subject = no
					OR = {
						capital_scope = {
							is_on_continent = europe
						}
						capital_scope = {
							is_on_continent = asia
						}
						num_of_factories > 30
					}
					OR = {
						has_government = fascism 
						AND = {
							is_neighbor_of = SOU
							NOT = { has_government = communism }
						}
					}
				}
				country_event = germany.5
			}
		}
	}


	focus = {
		id = GER_get_reasy_for_dday_south
		icon = GFX_focus_NOR_quislings_regime
		prerequisite = { focus = GER_war_with_the_ussr }
		available_if_capitulated = no
		available = {
			date>1942.6.1
		}
		x = 1
		y = 1
		relative_position_id = GER_war_with_the_ussr
		cost = 10	
		completion_reward = {
			custom_effect_tooltip = GER_fra_defence_south
			hidden_effect = {
				14 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 11508
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11508
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 9529
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9529
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 6527
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6527
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 3552
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3552
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 542
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 542
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 6536
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6536
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 9510
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9510
						instant_build = yes
					}
				}
				30 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 11465
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11465
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 11616
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11616
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = GER_get_full_ready
		icon = GFX_goal_ger_panzer4
		prerequisite = { focus = GER_get_reasy_for_dday_south  }
		prerequisite = { focus = GER_get_reasy_for_dday_north  }
		
		x = -1
		y = 1

		relative_position_id = GER_get_reasy_for_dday_south
		cost = 10

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			custom_effect_tooltip = GER_total_ready
			hidden_effect = {
				build_railway = {
					path = { 651 9629 3655 11611 9644 } 
				}
				build_railway = {
					path = { 3495 3509 553 6599 9434 } 
				}
				15 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 553
						instant_build = yes
					}
				}
				785 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 9561
						instant_build = yes
					}
				}
				33 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3655
						instant_build = yes
					}
				}
				24 = {
					add_building_construction = {
						type = bunker
						level = 4
						province = 512
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 3671
						instant_build = yes
					}
				}

				16 = {
				 	add_building_construction = {
                    	type = air_base
                    	level = 10
                   	 	instant_build = yes
                	}
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 9523
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 11506
						instant_build = yes
					}
				}
				30 = {
					add_building_construction = {
                    	type = air_base
                    	level = 10
                    	instant_build = yes
                	}
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 3509
						instant_build = yes
					}
				}
				785 = {
					add_building_construction = {
                    	type = air_base
                   	 	level = 10
                    	instant_build = yes
                	}
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9561
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 454
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 3402
						instant_build = yes
					}
				} 
				14 = {
					add_building_construction = {
                    	type = air_base
                    	level = 10
                    	instant_build = yes
               	 	}
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 9495
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = GER_get_reasy_for_dday_north
		icon = GFX_focus_NOR_quislings_regime
		prerequisite = { focus = GER_war_with_the_ussr }
		available_if_capitulated = no
		available = {
			date>1942.6.1
		}
		x = -1
		y = 1
		relative_position_id = GER_war_with_the_ussr
		cost = 10	
		completion_reward = {
			custom_effect_tooltip = GER_fra_defence
			hidden_effect = {
				15 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 6449
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6449
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 9550
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9550
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 3579
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3579
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 11535
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11535
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 6599
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6599
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 9434
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9434
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 485
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 485
						instant_build = yes
					}
				}
				785 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 11420
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11420
						instant_build = yes
					}
				}
				29 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 9500
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9500
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 11548
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11548
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 575
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 575
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = GER_war_with_the_ussr

		icon = GFX_focus_attack_soviet
		alternate_icon = GFX_focus_GER_war_with_the_ussr

		prerequisite = { focus = GER_demands_to_sweden }
		x = 0
		y = 4
		relative_position_id = GER_danzig_or_war
		cost = 2

		will_lead_to_war_with = SOV

		available_if_capitulated = no

		available = {
			date > 1941.5.1
		}

		historical_ai = {
			# Only if we have defeated our enemies
			NOT = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT
					has_capitulated = no
					# Honestly, let's not care about the scandinavian countries
					NOT = {
						OR = {
							tag = NOR
							tag = DEN 
							tag = LUX # Or Luxenburg for that matter. 
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_army_manpower = { size < 1199999 }
					any_home_area_neighbor_country = {
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				factor = 0 #AI should not pick this focus if it does not share a border with the Soviets
				NOT = { 
					any_home_area_neighbor_country = {
						tag = SOV
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			GER = {
				create_wargoal = {
					type = annex_everything
					target = SOV
					expire = 0
				}
			}
			hidden_effect = {
				play_song = "War_with_USSR"
			}
		}
	}

	focus = {
		id = GER_molotov_ribbentrop_pact

		icon = GFX_goal_molotov_ribbentrop_pact
		alternate_icon = GFX_focus_GER_molotov_ribbentrop_pact
        prerequisite = { focus = GER_fate_of_czechoslovakia }
		#prerequisite = { focus = GER_treaty_with_the_ussr }
		x = -1 
		y = 2
		relative_position_id = GER_reassert_eastern_claims
		cost = 2
		
		available = {
			
		}

		continue_if_invalid = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GER_anti_comintern_pact }
			}
			modifier = {
				factor = 2
				has_idea = SOV_soviet_german_trade_agreement
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
	
		completion_reward = {
			SOV = {
				country_event = { id = germany.11 days = 1 }
				custom_effect_tooltip = GER_mol_rib_pact_tt
				custom_effect_tooltip = needs_approval
			}
		}
	}

	focus = {
		id = GER_treaty_with_the_ussr
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GER_fate_of_czechoslovakia }

		x = 1
		y = 2
		relative_position_id = GER_reassert_eastern_claims
		cost = 5

		available = {
		}

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			SOV = {
				country_event = { id = germany.75 days = 1 }
				custom_effect_tooltip = needs_approval
				# Actual reward effects added in event if Soviets approve
				effect_tooltip = {
					# Trade influence with the USSR? Or simply let the opinion mod do the work
					give_SOV_armor_research_bonuses = yes
				}
			}

			if = {
				limit = { 
					has_dlc = "No Step Back"
				}
				#custom_effect_tooltip = GER_soviet_treaty_research_nsb_tt #Obsolete now
				effect_tooltip = {	
					add_tech_bonus = {
						name = armor_bonus
						bonus = 2.0
						uses = 1
						category = armor
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			else = {
				effect_tooltip = {
					add_tech_bonus = {
						name = med_armor_bonus
						ahead_reduction = 1
						category = cat_medium_armor
					}
					add_tech_bonus = {
						name = armor_bonus
						bonus = 1.0
						uses = 2
						category = armor
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 1
			}

			SOV = {
				add_breakthrough_progress = {
					specialization = specialization_land
					value = 1
				}
			}
		}
	}

	

	



#### ##    ## ##    ## ######## ########      ######  #### ########   ######  ##       ######## 
 ##  ###   ## ###   ## ##       ##     ##    ##    ##  ##  ##     ## ##    ## ##       ##       
 ##  ####  ## ####  ## ##       ##     ##    ##        ##  ##     ## ##       ##       ##       
 ##  ## ## ## ## ## ## ######   ########     ##        ##  ########  ##       ##       ######   
 ##  ##  #### ##  #### ##       ##   ##      ##        ##  ##   ##   ##       ##       ##       
 ##  ##   ### ##   ### ##       ##    ##     ##    ##  ##  ##    ##  ##    ## ##       ##       
#### ##    ## ##    ## ######## ##     ##     ######  #### ##     ##  ######  ######## ########



	focus = {
		id = GER_fuhrerprinzip

		dynamic = yes
		
		alternate_icon = GFX_focus_GER_support_the_fuhrer_historical

		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_fritz_todt
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_todt
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_albert_speer
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_speer
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_hermann_goring
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_goring
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_heinrich_himmler
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_himmler
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_joseph_goebbels
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_goebbels
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_rudolf_hess
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_hess
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_martin_bormann
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_bormann
		}
		icon = GFX_focus_GER_support_the_fuhrer

		prerequisite = { focus = GER_remilitarize_the_rhineland }
		x = -5
		y = 8
		relative_position_id = GER_remilitarize_the_rhineland
		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = GER_fuhrerprinzip_inner_circle_tt
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_war_support = 0.2
			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = war_economy

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer
						add = GER_der_fuhrer_fuhrerprinzip
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_wehrmacht
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_wehrmacht
						add = GER_der_fuhrer_fuhrerprinzip_wehrmacht
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_neurath
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_neurath
						add = GER_der_fuhrer_fuhrerprinzip_neurath
					}
				}
			}
			# No fallback if country leader is not Hitler and the Werhmacht / Neurath focuses are completed

			hidden_effect = {
				add_dynamic_modifier = {
					modifier = GER_the_inner_circle_dm
				}
			}
		}
	}

	focus = {
		id = GER_ascension_of_todt
		icon = GFX_focus_GER_ascension_of_todt
		prerequisite = { focus = GER_fuhrerprinzip }

		x = -7
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_todt_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_fritz_todt
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_todt_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_fritz_todt
			}
			show_ideas_tooltip = GER_todt_reich_engineer

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_fritz_todt
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 1 }
						check_variable = { GER_ascended_advisor_2 = 1 }
						check_variable = { GER_ascended_advisor_3 = 1 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 1 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_fritz_todt
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_todt_reich_engineer
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 1 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_todt.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }

				clr_country_flag = GER_todt_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				if = { #If historical make sure Todt is not picked ever after being replaced by Speer in the Intrigue Event
					limit = {
						GER_is_historical_ai = yes
					}
					set_country_flag = GER_todt_was_ascended_flag #Flag to prevent AI from taking the focus again after advisor has been replaced
				}
				else = {
					set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
						flag = GER_todt_was_ascended_flag
						days = 1500 # Clear after ~4 years 
						value = 1
					}
				}
			}
		}
	}

	focus = {
		id = GER_form_organization_todt
		icon = GFX_focus_GER_form_organization_todt
		prerequisite = { focus = GER_ascension_of_todt }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_todt
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_form_organization_todt_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_fritz_todt
						FLAG_DAYS = [?GER_form_organization_todt_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_idea = GER_philipp_holzmann
				}
				swap_ideas = {
					remove_idea = GER_philipp_holzmann
					add_idea = GER_organization_todt
				}
			}
			else = {
				effect_tooltip = {
					custom_effect_tooltip = available_designer
					show_ideas_tooltip = GER_organization_todt
				}
			}
		}
	}

	focus = {
		id = GER_autonomous_organization_todt
		icon = GFX_focus_GER_autonomous_organization_todt
		mutually_exclusive = { focus = GER_plenipotentiary_of_armaments focus = GER_plenipotentiary_of_the_four_year_plan }
		prerequisite = { focus = GER_form_organization_todt }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_form_organization_todt
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_autonomous_organization_todt_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_fritz_todt
						FLAG_DAYS = [?GER_autonomous_organization_todt_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_fritz_todt
			}
			swap_ideas = {
				remove_idea = GER_todt_reich_engineer
				add_idea = GER_todt_reich_minister_of_armaments
			}

			if = {
				limit = {
					has_idea = GER_organization_todt
				}
				swap_ideas = {
					remove_idea = GER_organization_todt
					add_idea = GER_organization_todt_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_organization_todt
						add_idea = GER_organization_todt_improved
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_plenipotentiary_of_armaments
				FOCUS_2 = GER_plenipotentiary_of_the_four_year_plan
			}
		}
	}

	focus = {
		id = GER_ascension_of_speer
		icon = GFX_focus_GER_ascension_of_speer
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 2
		y = 0
		relative_position_id = GER_ascension_of_todt
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_speer_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_albert_speer
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_speer_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_albert_speer
			}
			show_ideas_tooltip = GER_speer_reich_architect

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_albert_speer
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 2 }
						check_variable = { GER_ascended_advisor_2 = 2 }
						check_variable = { GER_ascended_advisor_3 = 2 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 2 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_albert_speer
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_speer_reich_architect
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 2 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_speer.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_speer_ascension_flag

				GER_inner_circle_set_ascension_cd = yes
				
				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_speer_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_employ_philipp_holzmann
		icon = GFX_focus_GER_philipp_holzmann
		prerequisite = { focus = GER_ascension_of_speer }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_speer
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_employ_philipp_holzmann_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_albert_speer
						FLAG_DAYS = [?GER_employ_philipp_holzmann_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_albert_speer
						FOCUS = GER_ascension_of_speer
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_idea = GER_philipp_holzmann
				}
				swap_ideas = {
					remove_idea = GER_philipp_holzmann
					add_idea = GER_philipp_holzmann_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_philipp_holzmann
						add_idea = GER_philipp_holzmann_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_plenipotentiary_of_armaments
		icon = GFX_focus_GER_plenipotentiary_of_armaments
		#prerequisite = { focus = GER_form_organization_todt focus = GER_employ_philipp_holzmann focus = GER_prioritize_the_four_year_plan }
		mutually_exclusive = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_the_four_year_plan }
		prerequisite = { focus = GER_employ_philipp_holzmann }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_employ_philipp_holzmann
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_plenipotentiary_of_armaments_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_albert_speer
						FLAG_DAYS = [?GER_plenipotentiary_of_armaments_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_albert_speer
						FOCUS = GER_ascension_of_speer
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_albert_speer
			}
			swap_ideas = {
				remove_idea = GER_speer_reich_architect
				add_idea = GER_speer_reich_minister_of_armaments
			}

			if = {
				limit = {
					has_idea = GER_philipp_holzmann_improved
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					swap_ideas = {
						remove_idea = GER_philipp_holzmann_improved
						add_idea = GER_philipp_holzmann_improved_2
					}
				}
				else = {
					swap_ideas = {
						remove_idea = GER_philipp_holzmann_improved
						add_idea = GER_philipp_holzmann_improved_2_no_aat
					}
				}
			}
			else = {
				effect_tooltip = {
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						swap_ideas = {
							remove_idea = GER_philipp_holzmann_improved
							add_idea = GER_philipp_holzmann_improved_2
						}
					}
					else = {
						swap_ideas = {
							remove_idea = GER_philipp_holzmann_improved
							add_idea = GER_philipp_holzmann_improved_2_no_aat
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_autonomous_organization_todt
				FOCUS_2 = GER_plenipotentiary_of_the_four_year_plan
			}
		}
	}

	focus = {
		id = GER_wunderwaffe
		icon = GFX_focus_GER_wunderwaffe_inner_circle
		prerequisite = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_armaments}

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_autonomous_organization_todt
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_wunderwaffe_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #TODT working on it
					limit = {
						check_variable = { GER_wonder_weapons_focus_advisor = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_fritz_todt
							FLAG_DAYS = [?GER_wunderwaffe_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #SPEER working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_albert_speer
							FLAG_DAYS = [?GER_wunderwaffe_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
						CHARACTER_2 = GER_albert_speer
						FOCUS_2 = GER_ascension_of_speer
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_air
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_air
					level = 1
				}
			}

			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_nuclear
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_nuclear
					level = 1
				}
			}
			
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_land
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_land
					level = 1
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_walter_dornberger
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_wunderwaffe_dornberger_trait_tt
			hidden_effect = {
				remove_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_the_missile_department
				}
				add_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_experimental_weapons
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_facility_factor = 0.1
				tooltip = production_speed_facility_factor_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_goring
		icon = GFX_focus_GER_ascension_of_goring
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 2
		y = 0
		relative_position_id = GER_ascension_of_speer
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_goring_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_hermann_goring
				}
			}
			has_completed_focus = GER_the_four_year_plan
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_goring_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_hermann_goring
			}
			show_ideas_tooltip = GER_goring_overseer_four_year_plan

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_hermann_goring
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 3 }
						check_variable = { GER_ascended_advisor_2 = 3 }
						check_variable = { GER_ascended_advisor_3 = 3 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 3 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_hermann_goring
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_goring_overseer_four_year_plan
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 3 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_goring.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_goring_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_goring_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_prioritize_the_four_year_plan
		icon = GFX_focus_GER_prioritize_the_four_year_plan
		prerequisite = { focus = GER_ascension_of_goring }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_goring
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_prioritize_the_four_year_plan_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_prioritize_the_four_year_plan_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					59 = { is_fully_controlled_by = ROOT }
				}
				59 = { #Hannover
					add_resource = {
						type = steel
						amount = 6
					}
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						NOT = {
							state = 59
						}
						OR = {
							has_resources_amount = {
								resource = oil
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = aluminium
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = rubber
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = tungsten
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = steel
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = chromium
								amount > 19
								delivered = no
							}
						}
					}
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
			}
			else = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						OR = {
							has_resources_amount = {
								resource = oil
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = aluminium
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = rubber
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = tungsten
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = steel
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = chromium
								amount > 19
								delivered = no
							}
						}
					}
					random_select_amount = 2
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_idea = GER_reichswerke
				}
				swap_ideas = {
					remove_idea = GER_reichswerke
					add_idea = GER_reichswerke_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke
						add_idea = GER_reichswerke_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_plenipotentiary_of_the_four_year_plan
		icon = GFX_focus_GER_plenipotentiary_of_the_four_year_plan
		mutually_exclusive = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_armaments }
		prerequisite = { focus = GER_prioritize_the_four_year_plan }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_prioritize_the_four_year_plan
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_plenipotentiary_of_the_four_year_plan_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_plenipotentiary_of_the_four_year_plan_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_hermann_goring
			}
			swap_ideas = {
				remove_idea = GER_goring_overseer_four_year_plan
				add_idea = GER_goring_four_year_plan_plenipotentiary
			}

			if = {
				limit = {
					has_idea = GER_reichswerke_improved
				}
				swap_ideas = {
					remove_idea = GER_reichswerke_improved
					add_idea = GER_reichswerke_improved_2
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke_improved
						add_idea = GER_reichswerke_improved_2
					}
				}
			}

			add_tech_bonus = {
				name = GER_plenipotentiary_of_the_four_year_plan
				uses = 1
				ahead_reduction = 2
				category = excavation_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_autonomous_organization_todt
				FOCUS_2 = GER_plenipotentiary_of_armaments
			}
		}
	}

	focus = {
		id = GER_integration_of_puppet_economies
		icon = GFX_focus_GER_integration_of_puppet_economies
		prerequisite = { focus = GER_plenipotentiary_of_the_four_year_plan }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_plenipotentiary_of_the_four_year_plan
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_integration_of_puppet_economies_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_integration_of_puppet_economies_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = unlock_decision_category_explained
				CATEGORY = GER_integration_of_puppet_economies_dec_cat
				DESC = GER_integration_of_puppet_economies_decisions_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_himmler
		icon = GFX_focus_GER_ascension_of_himmler
		prerequisite = { focus = GER_fuhrerprinzip }
		x = 0
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_himmler_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_heinrich_himmler
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_himmler_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_heinrich_himmler
			}
			show_ideas_tooltip = GER_himmler_chief_of_german_police
			
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_heinrich_himmler
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 4 }
						check_variable = { GER_ascended_advisor_2 = 4 }
						check_variable = { GER_ascended_advisor_3 = 4 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 4 }
					country_event = GER_inner_circle.01 #Replace Advisor
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_heinrich_himmler
				}
			}
			else = {
				custom_effect_tooltip = generic_skip_one_line_tt

				country_event = GER_inner_circle_himmler.00 #Pick Himmler's branch (Can only be fired once)
				
				hidden_effect = {
					add_ideas = GER_himmler_chief_of_german_police
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 4 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_himmler.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_himmler_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_himmler_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_expand_gestapo
		icon = GFX_focus_GER_expand_gestapo
		prerequisite = { focus = GER_ascension_of_himmler }
		mutually_exclusive = { focus = GER_expand_ss_security_duties }

		text_icon = GER_inner_circle_focus_style

		x = -1
		y = 1
		relative_position_id = GER_ascension_of_himmler
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_expand_gestapo_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_expand_gestapo_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_add_or_modify_military_intelligence_service = yes
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_to_variable = { 
					GER_military_intelligence_service_intelligence_agency_defense = 0.15
					tooltip = intelligence_agency_defense_tt
				}
				add_to_variable = { 
					GER_military_intelligence_service_agency_upgrade_time = -0.2
					tooltip = agency_upgrade_time_tt
				}
				add_to_variable = { 
					GER_military_intelligence_root_out_resistance_effectiveness_factor = 0.2
					tooltip = root_out_resistance_effectiveness_factor_tt
				}
			}
			else = {
				add_to_variable = { 
					GER_military_intelligence_service_encryption_factor = 0.1
					tooltip = encryption_factor_tt
				}
			}
		}
	}

	focus = {
		id = GER_absorb_the_abwehr
		icon = GFX_focus_GER_absorb_the_abwehr
		prerequisite = { focus = GER_expand_gestapo }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_expand_gestapo
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_absorb_the_abwehr_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_absorb_the_abwehr_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			swap_ideas = {
				remove_idea = GER_himmler_chief_of_german_police
				add_idea = GER_himmler_director_reich_security
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_eleysa_bazna = yes
			}
		}
	}

	focus = {
		id = GER_expand_ss_security_duties
		icon = GFX_focus_GER_expand_ss_security_duties
		prerequisite = { focus = GER_ascension_of_himmler }
		mutually_exclusive = { focus = GER_expand_gestapo }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_ascension_of_himmler
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_expand_ss_security_duties_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_expand_ss_security_duties_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			swap_ideas = {
				remove_idea = GER_himmler_chief_of_german_police
				add_idea = GER_himmler_director_reich_security
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_eleysa_bazna = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_expand_ss_security_duties
				bonus = 0.5
				uses = 1
				category = military_police_tech
			}
		}
	}

	focus = {
		id = GER_strengthen_the_waffen_ss
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		prerequisite = { focus = GER_expand_ss_security_duties }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_expand_ss_security_duties
		cost = @inner_circle_time_tier_2
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_strengthen_the_waffen_ss_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_strengthen_the_waffen_ss_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_strengthen_the_waffen_ss
				cost_reduction = 0.5
				uses = 2
				category = special_forces_doctrine
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				remove_idea = GER_himmler_director_reich_security
				add_idea = GER_himmler_reichsfuhrer_ss
			}
			#remove_trait = {
			#	character = GER_heinrich_himmler
			#	slot = political_advisor
			#	trait = prince_of_terror
			#}
			#add_trait = { 
			#	character = GER_heinrich_himmler
			#	slot = political_advisor
			#	trait = GER_reichsfuhrer_ss
			#}

			custom_effect_tooltip = generic_skip_one_line_tt
			show_unit_leaders_tooltip = GER_felix_steiner
			show_unit_leaders_tooltip = GER_walter_kruger
			show_unit_leaders_tooltip = GER_sepp_dietrich
			show_unit_leaders_tooltip = GER_paul_hausser

			custom_effect_tooltip = generic_skip_one_line_tt

			#Create 2 Milita Units and Unlock the Template
			if = {
				limit = {
					NOT = { has_template = "Waffen-SS Division" }
				}
				division_template = {
					name = "Waffen-SS Division"
					priority = 2
					division_names_group = GER_SS_01
					template_counter = 101
					is_locked = no
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
					
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_militia
				}
			}
			else = { #If Waffen-SS Division already exists, unlock it
				set_division_template_lock = {
				    division_template = "Waffen-SS Division"
				    is_locked = no
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_two_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 2
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_two_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 2
						}
					}
				}
			}

			#Create 1 Motorized Unit and Unlock the Template
			if = {
				limit = {
					NOT = { has_template = "SS-Verfügungstruppe" }
				}
				division_template = {
					name = "SS-Verfügungstruppe"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }

					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
			}
			else = { #If Waffen-SS Division already exists, unlock it
				set_division_template_lock = {
				    division_template = "SS-Verfügungstruppe"
				    is_locked = no
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_one_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_one_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 1
						}
					}
				}
			}

			#Create 2 Panzer Units and Unlock the Template
			if = { 
				limit = {
					NOT = { has_tech = basic_medium_tank_chassis }
				}
				division_template = {
					name = "Waffen-SS Leicht Panzer Division"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
						light_armor = { x = 0 y = 2 }
						light_armor = { x = 0 y = 3 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
				if = {
					limit = {
						64 = {
							is_fully_controlled_by = ROOT
						}
					}
					64 = {
						custom_effect_tooltip = GER_create_two_light_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Leicht Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
				else = {
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						custom_effect_tooltip = GER_create_two_light_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Leicht Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}
			else = {
				division_template = {
					name = "Waffen-SS Panzer Division"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						medium_armor = { x = 0 y = 0 }
						medium_armor = { x = 0 y = 1 }
						medium_armor = { x = 0 y = 2 }
						medium_armor = { x = 0 y = 3 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
				if = {
					limit = {
						64 = {
							is_fully_controlled_by = ROOT
						}
					}
					64 = {
						custom_effect_tooltip = GER_create_two_medium_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
				else = {
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						custom_effect_tooltip = GER_create_two_medium_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_hegemony_of_the_ss
		icon = GFX_focus_GER_hegemony_of_the_ss
		prerequisite = { focus = GER_absorb_the_abwehr focus = GER_strengthen_the_waffen_ss }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_absorb_the_abwehr
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_hegemony_of_the_ss_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_hegemony_of_the_ss_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			GER_heinrich_himmler = {
				add_field_marshal_role = {
					traits = { politically_connected militias_officer }
					skill = 2
					attack_skill = 1
					defense_skill = 3
					planning_skill = 1
					logistics_skill = 2
				} 
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_max_org_factor = 0.1
				tooltip = modifier_army_sub_unit_militia_max_org_factor_tt
			}
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_attack_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_attack_factor_tt
			}
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_defence_factor_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_goebbels
		icon = GFX_focus_GER_ascension_of_goebbels
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 3
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_goebbels_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_joseph_goebbels
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_goebbels_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_joseph_goebbels
			}
			show_ideas_tooltip = GER_goebbels_reich_minister_of_propaganda

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_joseph_goebbels
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 5 }
						check_variable = { GER_ascended_advisor_2 = 5 }
						check_variable = { GER_ascended_advisor_3 = 5 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 5 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_joseph_goebbels
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_goebbels_reich_minister_of_propaganda
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 5 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_goebbels.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_goebbels_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_goebbels_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_ministry_of_public_enlightenment
		icon = GFX_focus_GER_reich_ministry_of_public_enlightenment
		prerequisite = { focus = GER_ascension_of_goebbels }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_goebbels
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_ministry_of_public_enlightenment_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_ministry_of_public_enlightenment_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			add_stability = 0.05
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_goebbels_reich_minister_of_propaganda
				add_idea = GER_goebbels_reich_minister_of_propaganda_ministry
			}
		}
	}

	focus = {
		id = GER_fund_the_film_department
		icon = GFX_focus_GER_fund_the_film_department
		prerequisite = { focus = GER_ministry_of_public_enlightenment }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ministry_of_public_enlightenment
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_fund_the_film_department_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_fund_the_film_department_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			add_war_support = 0.05
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_goebbels_reich_minister_of_propaganda_ministry
				add_idea = GER_goebbels_reich_minister_of_propaganda_film
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_leni_riefenstahl
		}
	}

	focus = {
		id = GER_propaganda_master
		icon = GFX_focus_GER_propaganda_master
		prerequisite = { focus = GER_fund_the_film_department }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_fund_the_film_department
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_propaganda_master_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_propaganda_master_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = GER_goebbels_reich_minister_of_propaganda_film
					add_idea = GER_goebbels_reich_minister_of_propaganda_master
				}
			}
			else = {
				swap_ideas = {
					remove_idea = GER_goebbels_reich_minister_of_propaganda_film
					add_idea = GER_goebbels_reich_minister_of_propaganda_master_no_lar
				}
			}
			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_savitri_devi = yes
			}
		}
	}

	focus = {
		id = GER_party_chancellor_hess
		icon = GFX_focus_GER_party_chancellor_hess
		prerequisite = { focus = GER_fuhrerprinzip }
		mutually_exclusive = { focus = GER_party_chancellor_bormann }
		x = 5
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_hess_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_rudolf_hess
				}
			}

			NOT = { has_country_flag = flight_of_hess }
			
			OR = { 
				NOT = { has_war_with = SOU }
				NOT = { has_war_with = ENG }
			}
			
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_hess_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_rudolf_hess
			}
			show_ideas_tooltip = GER_hess_party_chancellor

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_rudolf_hess
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 6 }
						check_variable = { GER_ascended_advisor_2 = 6 }
						check_variable = { GER_ascended_advisor_3 = 6 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 6 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_rudolf_hess
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_hess_party_chancellor
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 6 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_hess.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_hess_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_hess_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}
	
	focus = {
		id = GER_party_chancellor_bormann
		icon = GFX_focus_GER_party_chancellor_bormann
		prerequisite = { focus = GER_fuhrerprinzip }
		mutually_exclusive = { focus = GER_party_chancellor_hess }
		x = 2
		y = 0
		relative_position_id = GER_party_chancellor_hess
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_bormann_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_martin_bormann
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_bormann_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_martin_bormann
			}
			show_ideas_tooltip = GER_bormann_secretary_to_the_fuhrer

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_martin_bormann
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 7 }
						check_variable = { GER_ascended_advisor_2 = 7 }
						check_variable = { GER_ascended_advisor_3 = 7 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 7 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_martin_bormann
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_bormann_secretary_to_the_fuhrer
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 7 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_bormann.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_bormann_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				if = { #If historical make sure Todt is not picked ever after being replaced by Speer in the Intrigue Event
					limit = {
						GER_is_historical_ai = yes
					}
					set_country_flag = GER_bormann_was_ascended_flag #Flag to prevent AI from taking the focus again after advisor has been replaced
				}
				else = {
					set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
						flag = GER_bormann_was_ascended_flag
						days = 1500 # Clear after ~4 years 
						value = 1
					}
				}
			}
		}
	}

	focus = {
		id = GER_optimize_reich_labour_service
		icon = GFX_focus_GER_optimize_reich_labour_service
		prerequisite = { focus = GER_party_chancellor_hess focus = GER_party_chancellor_bormann }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_party_chancellor_hess
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_optimize_reich_labour_service_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #HESS working on it
					limit = {
						check_variable = { GER_optimize_reich_service_focus_advisor = 6 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_rudolf_hess
							FLAG_DAYS = [?GER_optimize_reich_labour_service_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #BORMANN working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_martin_bormann
							FLAG_DAYS = [?GER_optimize_reich_labour_service_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
						CHARACTER_2 = GER_martin_bormann
						FOCUS_2 = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			unlock_decision_category_tooltip = GER_reich_labor_service_cat
		}
	}

	focus = {
		id = GER_rally_the_industrialists
		icon = GFX_focus_GER_rally_the_industrialists
		prerequisite = { focus = GER_optimize_reich_labour_service }
		prerequisite = { focus = GER_party_chancellor_hess }

		text_icon = GER_inner_circle_focus_style

		x = -1
		y = 1
		relative_position_id = GER_optimize_reich_labour_service
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_rally_the_industrialists_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_rudolf_hess
						FLAG_DAYS = [?GER_rally_the_industrialists_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				swap_ideas = {
					remove_idea = GER_hess_party_chancellor
					add_idea = GER_hess_party_chancellor_improved
				}
			}
			else = {
				swap_ideas = {
					remove_idea = GER_hess_party_chancellor
					add_idea = GER_hess_party_chancellor_improved_no_aat
				}
			}
			custom_effect_tooltip = GER_rally_the_industrialists_hess_stays_tt
		}
	}

	focus = {
		id = GER_glorify_party_rallies
		icon = GFX_focus_GER_glorify_party_rallies
		prerequisite = { focus = GER_optimize_reich_labour_service }
		prerequisite = { focus = GER_party_chancellor_bormann }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_optimize_reich_labour_service
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_glorify_party_rallies_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_martin_bormann
						FLAG_DAYS = [?GER_glorify_party_rallies_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_martin_bormann
						FOCUS = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_bormann_secretary_to_the_fuhrer
				add_idea = GER_bormann_secretary_to_the_fuhrer_improved
			}
		}
	}

	focus = {
		id = GER_total_control_over_domestic_affairs
		icon = GFX_focus_GER_total_control_over_domestic_affairs
		prerequisite = { focus = GER_glorify_party_rallies focus = GER_rally_the_industrialists }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_rally_the_industrialists
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_total_control_over_domestic_affairs_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #HESS working on it
					limit = {
						check_variable = { GER_total_control_over_domestic_affairs_focus_advisor = 6 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_rudolf_hess
							FLAG_DAYS = [?GER_total_control_over_domestic_affairs_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #BORMANN working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_martin_bormann
							FLAG_DAYS = [?GER_total_control_over_domestic_affairs_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
						CHARACTER_2 = GER_martin_bormann
						FOCUS_2 = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_bormann }
					NOT = { has_completed_focus = GER_party_chancellor_hess }
				}
				custom_effect_tooltip = GER_total_control_over_domestic_affairs_chancellors_tt

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_bormann }
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					custom_effect_tooltip = {
						localization_key = GER_ascended_character_trait_swap_tt
						CHARACTER = GER_rudolf_hess
					}
					swap_ideas = {
						remove_idea = GER_hess_party_chancellor_improved
						add_idea = GER_hess_first_among_equals
					}
				}
				else = {
					custom_effect_tooltip = {
						localization_key = GER_ascended_character_trait_swap_tt
						CHARACTER = GER_rudolf_hess
					}
					swap_ideas = {
						remove_idea = GER_hess_party_chancellor_improved_no_aat
						add_idea = GER_hess_first_among_equals_no_aat
					}
				}
			}

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_hess }
				}
				custom_effect_tooltip = {
					localization_key = GER_ascended_character_trait_swap_tt
					CHARACTER = GER_martin_bormann
				}
				swap_ideas = {
					remove_idea = GER_bormann_secretary_to_the_fuhrer_improved
					add_idea = GER_bormann_brown_eminence
				}
			}
		}
	}

	focus = {
		id = GER_loyalty_to_the_fuhrer
		icon = GFX_focus_GER_loyalty_to_the_fuhrer
		prerequisite = { focus = GER_hegemony_of_the_ss focus = GER_wunderwaffe focus = GER_integration_of_puppet_economies focus = GER_propaganda_master focus = GER_total_control_over_domestic_affairs }
		x = 0
		y = 5
		relative_position_id = GER_fuhrerprinzip
		cost = 5

		available = {
			has_government = fascism

			custom_trigger_tooltip = {
				tooltip = GER_a_strong_successor_trigger_tt
				count_triggers = {
					amount = 3
					AND = {
						has_completed_focus = GER_wunderwaffe
						OR = {
							check_variable = { GER_ascended_advisor_1 = 1 }
							check_variable = { GER_ascended_advisor_2 = 1 }
							check_variable = { GER_ascended_advisor_3 = 1 }
							check_variable = { GER_ascended_advisor_1 = 2 }
							check_variable = { GER_ascended_advisor_2 = 2 }
							check_variable = { GER_ascended_advisor_3 = 2 }
						}
					}
					AND = {
						has_completed_focus = GER_integration_of_puppet_economies
						OR = {
							check_variable = { GER_ascended_advisor_1 = 3 }
							check_variable = { GER_ascended_advisor_2 = 3 }
							check_variable = { GER_ascended_advisor_3 = 3 }
						}
					}
					AND = {
						has_completed_focus = GER_hegemony_of_the_ss
						OR = {
							check_variable = { GER_ascended_advisor_1 = 4 }
							check_variable = { GER_ascended_advisor_2 = 4 }
							check_variable = { GER_ascended_advisor_3 = 4 }
						}
					}
					AND = {
						has_completed_focus = GER_propaganda_master
						OR = {
							check_variable = { GER_ascended_advisor_1 = 5 }
							check_variable = { GER_ascended_advisor_2 = 5 }
							check_variable = { GER_ascended_advisor_3 = 5 }
						}
					}
					AND = {
						has_completed_focus = GER_total_control_over_domestic_affairs
						OR = {
							check_variable = { GER_ascended_advisor_1 = 6 }
							check_variable = { GER_ascended_advisor_2 = 6 }
							check_variable = { GER_ascended_advisor_3 = 6 }
							check_variable = { GER_ascended_advisor_1 = 7 }
							check_variable = { GER_ascended_advisor_2 = 7 }
							check_variable = { GER_ascended_advisor_3 = 7 }
						}
					}
				}
			}

			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_loyalty_to_the_fuhrer_flag
		}

		completion_reward = {
			add_political_power = 100

			add_country_leader_trait = GER_loyal_inner_circle

			if = {
				limit = {
					capital_scope = {
						state = 64 #BRANDENBURG
					}
					controls_province = 6521 #BERLIN
					64 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 6521
						}
					}
				}
				64 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province =  6521
					}
				}
			}

			hidden_effect = {
				clr_country_flag = GER_loyalty_to_the_fuhrer_flag
			}
		}
	}

}
